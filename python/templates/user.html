<!DOCKTYPE html>
<html>
<head>


<style>
body {
  background-image: url('https://www.frontiers.health/wp-content/uploads/2019/10/elderly-care.jpg');
 background-repeat: no-repeat;
 border-style: ridge;


}
.grid-container {
  display: grid;
  grid-template-columns: 0.6fr 1.2fr 1.2fr;
  grid-template-rows: 1fr 1.2fr 0.8fr;
  gap: 10px 10px;
  grid-template-areas:
    "name title title"
    "sideBar chart1 chart2"
    "sideBar chart3 chart4";
}

.name { grid-area: name; }

.sideBar { grid-area: sideBar; }

.title { grid-area: title; }

.chart1 { grid-area: chart1; }

.chart2 { grid-area: chart2; }

.chart3 { grid-area: chart3; }

.chart4 { grid-area: chart4; }

</style>

<script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
      </script>
      <script src = "https://code.highcharts.com/highcharts.js"></script>
      <script src = "https://code.highcharts.com/highcharts-more.js"></script>
      <script src = "https://code.highcharts.com/modules/solid-gauge.js"></script>

</head>

<body>
<div class="grid-container">
    <div class="name">
        <h1 style="margin-left:15px; margin-top:185px; color: rgb(255, 255, 255);
      font-size: 31px; text-shadow: rgb(44, 115, 16) -1px 2px 16px;">Welcome </h1>
      <h1 style="margin-left:15px; color: rgb(255, 255, 255);
      font-size: 20px; text-shadow: rgb(44, 115, 16) -1px 2px 16px;">Age:</h1>
        <h1 style="margin-left:15px;color: rgb(255, 255, 255);
        font-size: 20px; text-shadow: rgb(44, 115, 16) -1px 2px 16px;">Gender:</h1>
    </div>

  <div class="sideBar" style="margin-left:15px;color: rgb(255, 255, 255);text-shadow: rgb(44, 115, 16) -1px 2px 16px;">
      <p id="date" ></p>
<script>
document.getElementById("date").innerHTML = Date();
</script>
  </div>

    <div class="title"><h1 style="margin-left:350px; margin-top:180px;color: rgb(255, 255, 255);
font-size: 50px;background-color: rgb(3, 89, 45);text-shadow: rgb(255, 255, 255) 0px 0px 10px;">Remote Elderly Monitoring</h1></div>
  <div class="chart1" style="border-style: outset;" >
      <div id = "chart1" style = "width:500px; height: 400px;"></div>
<script language = "JavaScript">
         $(document).ready(function() {
            var chart = {
               type: 'gauge',
               plotBackgroundColor: null,
               plotBackgroundImage: null,
               plotBorderWidth: 0,
               plotShadow: false
            };
            var title = {
               text: 'Cholesterol Level'
            };
               var pane = {
               startAngle: -150,
               endAngle: 150,
               background: [
                  {
                     backgroundColor: {
                        linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                        stops: [
                           [0, '#FFF'],
                           [1, '#333']
                        ]
                     },
                     borderWidth: 0,
                     outerRadius: '109%'
                  },
                  {
                     backgroundColor: {
                        linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                        stops: [
                           [0, '#333'],
                           [1, '#FFF']
                        ]
                     },
                     borderWidth: 1,
                     outerRadius: '107%'
                  },
                  {
                     // default background
                  },
                  {
                     backgroundColor: '#DDD',
                     borderWidth: 0,
                     outerRadius: '105%',
                     innerRadius: '113%'
                  }
               ]
            };

            // the value axis
            var yAxis = {
               min: 0,
               max: 240,

               minorTickInterval: 'auto',
               minorTickWidth: 1,
               minorTickLength: 10,
               minorTickPosition: 'inside',
               minorTickColor: '#666',

               tickPixelInterval: 40,
               tickWidth: 2,
               tickPosition: 'inside',
               tickLength: 15,
               tickColor: '#666',

               labels: {
                  step: 2,
                  rotation: 'auto'
               },
               title: {
                  text: 'mg/dL'
               },
               plotBands: [
                  {
                     from: 0,
                     to: 129,
                     color: '#55BF3B' // green

                  },
                  {
                     from: 130,
                     to: 159,
                     color: '#DDDF0D' // yellow
                  },
                  {
                     from: 160,
                     to: 189,
                     color: '#FF9A08' // orange
                  },
                  {
                     from: 190,
                     to: 240,
                     color: '#DF5353' // red
                  }
               ]
            };
            var series = [{
               name: 'Cholesterol Level',
               data: [0],
               tooltip: {
                  valueSuffix: ' mg/dL'
               }
            }];
            var json = {};
            json.chart = chart;
            json.title = title;
            json.pane = pane;
            json.yAxis = yAxis;
            json.series = series;

            // Add some life
            var chartFunction = function (chart) {
               if (!chart.renderer.forExport) {
                  setInterval(function () {
                     $.getJSON("http://127.0.0.1:5000/data/cholestrol/", function(cholestrol) {
                        var point = chart.series[0].points[0]
                        point.y = cholestrol
                        point.update(cholestrol);
                     })
                    
                  }, 3000);
               }
            };
            $('#chart1').highcharts(json,chartFunction);
         });
      </script>
  </div>

  <div class="chart2" style="border-style: outset;">
          <div id = "chart2" style = "width: 500px; height: 400px; "></div>
        <script language = "JavaScript">
         $(document).ready(function() {
            var chart = {
               type: 'gauge',
               plotBackgroundColor: null,
               plotBackgroundImage: null,
               plotBorderWidth: 0,
               plotShadow: false
            };
            var title = {
               text: 'Fasting Blood Sugar Level '
            };
               var pane = {
               startAngle: -150,
               endAngle: 150,
               background: [
                  {
                     backgroundColor: {
                        linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                        stops: [
                           [0, '#FFF'],
                           [1, '#333']
                        ]
                     },
                     borderWidth: 0,
                     outerRadius: '109%'
                  },
                  {
                     backgroundColor: {
                        linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                        stops: [
                           [0, '#333'],
                           [1, '#FFF']
                        ]
                     },
                     borderWidth: 1,
                     outerRadius: '107%'
                  },
                  {
                     // default background
                  },
                  {
                     backgroundColor: '#DDD',
                     borderWidth: 0,
                     outerRadius: '105%',
                     innerRadius: '113%'
                  }
               ]
            };

            // the value axis
            var yAxis = {
               min: 0,
               max: 200,

               minorTickInterval: 'auto',
               minorTickWidth: 1,
               minorTickLength: 10,
               minorTickPosition: 'inside',
               minorTickColor: '#666',

               tickPixelInterval: 50,
               tickWidth: 2,
               tickPosition: 'inside',
               tickLength: 15,
               tickColor: '#666',

               labels: {
                  step: 2,
                  rotation: 'auto'
               },
               title: {
                  text: 'mg/dL'
               },
               plotBands: [
                  {
                     from: 1,
                     to: 64,
                     color: '#DF5353' // red
                  },
                  {
                     from: 65,
                     to: 79,
                     color: '#DDDF0D' // yellow
                  },
                  {
                     from: 80,
                     to: 119,
                     color: '#55BF3B' // green
                  },
                  {
                     from: 120,
                     to: 134,
                     color: '#DDDF0D' // yellow
                  },
                  {
                     from: 135,
                     to: 200,
                     color: '#DF5353' // red
                  }
               ]
            };
            var series = [{
               name: 'fasting blood sugar level ',
               data: [0],
               tooltip: {
                  valueSuffix: ' mg/dL'
               }
            }];
            var json = {};
            json.chart = chart;
            json.title = title;
            json.pane = pane;
            json.yAxis = yAxis;
            json.series = series;

            // Add some life
            var chartFunction = function (chart) {
               if (!chart.renderer.forExport) {
                  setInterval(function () {
                     $.getJSON("http://127.0.0.1:5000/data/fasting_blood_sugar/", function(bloodsugar) {
                        var point = chart.series[0].points[0]
                        point.y = bloodsugar
                        point.update(bloodsugar);
                     })
                    
                  }, 3000);
               }
            };
            $('#chart2').highcharts(json,chartFunction);
         });
      </script>
  </div>
  <div class="chart3" style="border-style: outset;">
           <div id = "chart3" style = "width: 500px; height: 400px;"></div>
        <script language = "JavaScript">
         $(document).ready(function() {
            var title = {
               text: 'Resting Heart Rate'
            };
            var subtitle = {
            };
            var xAxis = {
               // categories: []
               labels: {
                  enabled: false
               }
            };
            var yAxis = {
               title: {
                  text: 'resting heart rate (bpm)'
               },
               plotLines: [{
                  value: 0,
                  width: 1,
                  color: '#808080'
               }]
            };
            var tooltip = {
               valueSuffix: ' beats/min'
            }
            var legend = {
               layout: 'vertical',
               align: 'right',
               verticalAlign: 'middle',
               borderWidth: 0
            };
            var series =  [{
                  name: 'User1',
                  data: [0,0,0,0,0,0,0,0,0,0,0,0]
               },
            ];

            var json = {};
            json.title = title;
            json.subtitle = subtitle;
            json.xAxis = xAxis;
            json.yAxis = yAxis;
            json.tooltip = tooltip;
            json.legend = legend;
            json.series = series;


            $('#chart3').highcharts(json);
            $('#chart3').highcharts().xAxis.visible = false;

            var chartFunction = function() {
               var chart = $('#chart3').highcharts();
               var point;

               $.getJSON("http://127.0.0.1:5000/data/resting_heart_rate/", function(heart_rate) {
                  chart.series[0].addPoint(heart_rate, true, true);

               });
            };

            // Bring life to the dials
            setInterval(chartFunction, 3000);
         });
      </script>
  </div>

  <div class="chart4" style="border-style: outset;" >
    <div id = "container-temperature" style = "width: 500px; height: 300px; float: left">
         </div>


      <script language = "JavaScript">
         $(document).ready(function() {
            var chart = {
               type: 'solidgauge'
            };
             var title = {
               text: 'Body Temperature'
               }

            var pane = {
               center: ['50%', '85%'],
               size: '160%',
               startAngle: -90,
               endAngle: 90,

               background: {
                  backgroundColor: (
                     Highcharts.theme && Highcharts.theme.background2) || '#EEE',

                  innerRadius: '60%',
                  outerRadius: '100%',
                  shape: 'arc'
               }
            };
            var tooltip = {
               enabled: false
            };

            // the value axis
            var yAxis = {
               stops: [
                  [0.01, '#DF5353'], // red
                  [0.30, '#DF5353'], // red
                  [0.35, '#DDDF0D'], // yellow
                  [0.40, '#55BF3B'], // green
                  [0.55, '#DDDF0D'], // yellow
                  [0.75, '#DF5353'] // red
               ],
               lineWidth: 0,
               minorTickInterval: null,
               tickPixelInterval: 0,
               tickWidth: 0,
               title: {
                  y: -70
               },
               labels: {
                  y: 16
               },
               min: 32,
               max: 42,

            };
            var plotOptions = {
               solidgauge: {
                  dataLabels: {
                     y: 5,
                     borderWidth: 0,
                     useHTML: true
                  }
               }
            };
            var credits = {
               enabled: false
            };
            var series = [{
               name: 'body temperature',
               data: [0],
               dataLabels: {
                  format: '<div style = "text-align:center"><span style = "font-size:25px;color:' +
                     ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') +
                     '">{y}</span><br/>' +
                     '<span style = "font-size:12px;color:silver">°C</span></div>'
               },
               tooltip: {
                  valueSuffix: ' °C'
               }
            }];

            var json = {};
            json.chart = chart;
            json.title = title;
            json.pane = pane;
            json.tooltip = tooltip;
            json.yAxis = yAxis;
            json.credits = credits;
            json.series = series;
            $('#container-temperature').highcharts(json);


            var chartFunction = function() {
               // temperature
               var chart = $('#container-temperature').highcharts();
               var point;

               $.getJSON("http://127.0.0.1:5000/data/body_temperature/", function(temperature) {
                  var point = chart.series[0].points[0]
                  point.y = temperature
                  point.update(temperature);
               });
            };

            // Bring life to the dials
            setInterval(chartFunction, 3000);
         });
      </script>
  </div>

</div>




</body>
</html>